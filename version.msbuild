<?xml version="1.0" encoding="utf-8"?>

<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003" ToolsVersion="3.5" DefaultTargets="Version">
    <Import Project="$(MSBuildExtensionsPath)\MSBuildCommunityTasks\MSBuild.Community.Tasks.Targets" />

    <PropertyGroup>
        <ProductInfo>Safe config</ProductInfo>
        <CompanyInfo>Alex Erygin</CompanyInfo>
        <CopyrightInfo>Copyright 2015 Alex Erygin.</CopyrightInfo>
        <TradeMarkInfo>Safe config</TradeMarkInfo>
        <Configuration Condition="'$(Configuration)' == ''">Release</Configuration>
        <Platform Condition="'$(Platform)' == ''">Any CPU</Platform>
        <AssemblyInformationalVersion Condition="'$(BUILD_NUMBER)' == ''">Compiled By $(USERNAME)</AssemblyInformationalVersion>
        <BUILD_NUMBER Condition="'$(BUILD_NUMBER)' == ''">0.0.0.0</BUILD_NUMBER>

        <OutDir Condition="'$(OutDir)'==''">$(MSBuildThisFileDirectory)\Out</OutDir>
        <ArtifactsOutDir Condition="'$(ArtifactsOutDir)'==''">$(OutDir)\$(Configuration)</ArtifactsOutDir>
    </PropertyGroup>

    <Target Name="Version" DependsOnTargets="InstallerVersion">
        <AssemblyInfo CodeLanguage="CS"
                      OutputFile="$(MSBuildProjectDirectory)\GlobalAssemblyInfo.cs"
                      AssemblyProduct="$(ProductInfo)"
                      AssemblyCompany="$(CompanyInfo)"
                      AssemblyCopyright="$(CopyrightInfo)"
                      AssemblyTrademark="$(TrademarkInfo)"
                      AssemblyConfiguration="$(Configuration)"
                      AssemblyVersion="$(BUILD_NUMBER)"
                      AssemblyFileVersion="$(BUILD_NUMBER)"
                      AssemblyInformationalVersion="$(AssemblyInformationalVersion)" />
    </Target>
</Project>